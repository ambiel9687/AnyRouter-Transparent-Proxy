# TODO
这是一个 TODO List.

## 功能开发 TODO

- [x] 优化支持 PWA
- [ ] 请求列表项的左边 Badge 在请求进行中时为灰色，且有呼吸动画效果，请求结束再按原来的根据请求码显示着色
- [ ] 请求列表貌似数据不全
- [ ] status_code_raw 显示在日志查看器中（Codex 历史记录搜索“dashboard 和 monitoring 的请求列表中”可继续）
- [ ] 日志查看器不再使用 websocket，因为离开页面后日志就不记录了，直接存数据库，然后从数据库轮询读取（5s 一次应该差不多了）
- [ ] 日志数据库 jsonl 改为 sqlite
- [ ] 目前看所有数据都可以从日志读取，不如所有页面直接统一读取日志进行分析，统一数据来源
- [ ] 配置管理页面改版，允许自定义配置
    - 保存后提示自动重启后端服务
    - 部署端口不可修改，也不用显示出来
    - 配置保存在数据库，移除 .env，初始化数据也在数据库

### 日志查看器改版需求说明
#### 第一版
- 日志数据库 jsonl 改为 sqlite，数据库文件名就叫 running_log 就行了，是专门用于记录运行日志的
- 日志查看器不再使用 websocket，因为离开页面后日志就没法记录了，我需要的是只要后端有运行，日志就要一直记录
- 日志直接存入数据库，然后从数据库轮询读取，每 5s 读取一次
- 不需要兼容原来的数据

#### 第二版
- 仪表板的数据和监控中心的请求数据也存到 sqlite，但不能存到 running_log 里，要另外存到一个 request_log 数据库文件
- 请求数据与日志一样，要定期清理，每天只存最新的 1000 条请求数据